(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{6610:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5991:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:function(){return s}})},7608:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},5255:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,{Z:function(){return s}})},6089:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return o}});var s=n(3349);function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?(0,s.Z)(e):t}},5288:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(5893),s=n(6156),o=n(7294),i=n(9326),c=n(6808),u=n.n(c),a=n(9669),l=n.n(a),f=n(1163),p=n(7513),d=n(3899),h=(n(1389),n(2949)),m=n(7333);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m.Z;var y=function(e){var t=e.field,n=(e.form,(0,h.Z)(e,["field","form"])),s=(0,o.useState)("");s[0],s[1];return(0,r.jsx)(m.Z,j(j(j({},t),n),{},{isNumericString:!0,thousandSeparator:" "}))},v=n(741),x=(n(1757),n(5990)),b=n.n(x),_=function(e){var t=e.setFiles;(0,o.useEffect)((function(){}),[]);return(0,r.jsx)(b(),{onChangeStatus:function(e,n,r){var s=e.meta;console.log(n,s),t(r)},inputContent:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u044e\u0434\u0430 \u0438\u043b\u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",inputWithFilesContent:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435",maxFiles:5,styles:{dropzone:{minHeight:200,maxHeight:250}}})},N=function(e){var t=e.setLoading,n=(0,f.useRouter)(),c=n.pathname,a=(n.query.step,n.query.type),h="/dlya-fizicheskix-lic"===n.pathname?i.B:i.u,m="\u0424\u0438\u0437 \u043b\u0438\u0446\u043e"===a?i.B:i.u,g="/cabinet/continue"===c?m:h,j=(0,o.useState)([]),x=(j[0],j[1]),b=(0,o.useState)({id:void 0===u().get("lead_id")?n.query.id:u().get("lead_id"),token:u().get("token"),description:"",sphere:"1",amount:""});b[0],b[1];return(0,o.useEffect)((function(){var e=document.querySelector(".form_register");console.log(e),e.scrollIntoView({block:"center",behavior:"smooth"})}),[]),(0,r.jsx)("div",{className:"form_register",children:(0,r.jsx)(p.J9,{initialValues:{id:void 0!==u().get("lead_id")?u().get("lead_id"):n.query.id,token:u().get("token"),description:"",sphere:"1",amount:""},onSubmit:function(e){!function(e){t(!0),console.log(e);var r=g.find((function(t){return t.id===e.sphere})).name,s={id:e.id,token:e.token,description:e.description,sphere:r,amount:(0,v.Kp)(e.amount)};void 0!==u().get("utm_source")&&(s.utm_source=u().get("utm_source")+"_2",s.click_id=u().get("click_id")),l().get("".concat("https://crediter.kz/api","/stepTwo"),{params:s}).then((function(r){t(!1),console.log(r),r.data.success&&("/jurservice"===c&&(f.default.push("/jurservice?step=3"),u().set("stepjur",3),u().set("amount",(0,v.Kp)(e.amount))),"/dlya-fizicheskix-lic"===c&&(f.default.push("/dlya-fizicheskix-lic?step=3"),u().set("step",3),u().set("amount",(0,v.Kp)(e.amount))),"/cabinet/continue"===c&&f.default.push({pathname:"/cabinet/continue",query:{step:3,id:n.query.id,type:a,amount:(0,v.Kp)(e.amount)}})),r.data.success}))}(e)},children:function(e){var t,n=e.errors,o=e.touched;e.values;return(0,r.jsxs)(p.l0,{children:[(0,r.jsx)(p.gN,{as:"select",validate:d.C1,name:"sphere",className:"form_select",children:g.map((function(e,t){return(0,r.jsx)("option",{"data-img":"/img/uslugi/".concat(t+1,".svg"),value:t+1,children:e.name})}))}),n.sphere&&o.sphere?(0,r.jsx)("p",{className:"text-danger",children:n.sphere}):(0,r.jsx)("p",{className:""}),(0,r.jsx)(p.gN,{as:"textarea",name:"description",validate:d.C1,placeholder:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044e"}),n.description&&o.description?(0,r.jsx)("p",{className:"text-danger",children:n.description}):(0,r.jsx)("p",{className:""}),(0,r.jsx)(p.gN,{name:"amount",type:"text",validate:d.C1,component:y,placeholder:"\u0421\u0443\u043c\u043c\u0430 \u0438\u0441\u043a\u0430"}),n.amount&&o.amount?(0,r.jsx)("p",{className:"text-danger",children:n.amount}):(0,r.jsx)("p",{className:""}),(0,r.jsx)(_,{setFiles:x}),(0,r.jsxs)("div",{className:"firststep_banner",children:[(0,r.jsx)("div",{className:"firststep_banner--img",children:(0,r.jsx)("img",{alt:"image",className:"secondstep",src:"/img/form/secondstep.png"})}),(0,r.jsxs)("div",{className:"firststep_banner--button",children:[(0,r.jsx)("input",(t={className:"singlebtn",type:"submit"},(0,s.Z)(t,"className","button"),(0,s.Z)(t,"onClick",(function(){return(0,v.Iw)()})),(0,s.Z)(t,"value","\u0414\u0430\u043b\u0435\u0435"),t)),(0,r.jsxs)("b",{children:["\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",(0,r.jsx)("br",{}),"\u043f\u043e\u0442\u043e\u043c \u043e\u043f\u043b\u0430\u0442\u0430"]})]})]})]})}})})}},2804:function(e,t,n){"use strict";var r=n(5893),s=n(6610),o=n(5991),i=n(5255),c=n(6089),u=n(7608),a=n(7294),l=n(4494),f=n(1163),p=n(9291),d=n(6808),h=n.n(d),m=n(2089),g=n(9956);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var s=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}t.Z=function(e){var t=function(t){(0,i.Z)(c,t);var n=j(c);function c(){return(0,s.Z)(this,c),n.apply(this,arguments)}return(0,o.Z)(c,[{key:"componentDidMount",value:function(){h().get("token")&&!this.props.loggedIn&&this.props.fetchCurrentUser(),h().get("token")||f.default.push("/login")}},{key:"render",value:function(){return h().get("token")&&this.props.loggedIn?(0,r.jsx)(e,{}):!h().get("token")||!this.props.authenticatingUser&&this.props.loggedIn?(0,r.jsxs)("div",{className:"otherPages",children:[(0,r.jsx)(g.Z,{}),(0,r.jsx)(m.Z,{}),(0,r.jsx)("h2",{className:"text-center pt-5",children:"\u0412\u044b \u0432\u044b\u0448\u043b\u0438 \u0441 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 \u0438\u043b\u0438 \u0412\u0440\u0435\u043c\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u0435\u0430\u043d\u0441\u0430 \u0438\u0441\u0442\u0435\u043a\u043b\u043e"})]}):(0,r.jsxs)("div",{className:"otherPages",children:[(0,r.jsx)(g.Z,{}),(0,r.jsx)("div",{className:"pd-5 pt-5"}),(0,r.jsx)(m.Z,{})]})}}]),c}(a.Component);return(0,l.$j)((function(e){return{loggedIn:e.userReducer.loggedIn,authenticatingUser:e.userReducer.authenticatingUser}}),p)(t)}},771:function(e,t,n){"use strict";n.r(t);var r=n(5893),s=n(9008),o=n(1163),i=n(7294),c=n(4617),u=n(5288),a=n(2465),l=n(2089),f=n(9956),p=n(2804);t.default=(0,p.Z)((function(){var e=(0,o.useRouter)(),t=(e.query.id,e.query.step),n=e.query.type,p=(0,i.useState)(!1),d=p[0],h=p[1];return(0,r.jsxs)("div",{className:"getservice",children:[d&&(0,r.jsx)(l.Z,{}),(0,r.jsx)(s.default,{children:(0,r.jsxs)("title",{children:["\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0443 | ","\u0424\u0438\u0437 \u043b\u0438\u0446\u043e"===n?"\u0424\u0438\u0437 \u043b\u0438\u0446\u0430\u043c":"\u042e\u0440 \u043b\u0438\u0446\u0430\u043c"]})}),(0,r.jsxs)("div",{className:"header",children:[(0,r.jsx)(f.Z,{}),(0,r.jsx)("div",{className:"bg"})]}),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"form_headings",children:[(0,r.jsxs)("h1",{children:["\u0423\u0441\u043b\u0443\u0433\u0438 ","\u0424\u0438\u0437 \u043b\u0438\u0446\u043e"===n?"\u0424\u0438\u0437 \u043b\u0438\u0446\u0430\u043c":"\u042e\u0440 \u043b\u0438\u0446\u0430\u043c"]}),(0,r.jsxs)("h2",{children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435",(0,r.jsx)("br",{}),"\u0430\u043d\u043a\u0435\u0442\u044b:"]})]}),(0,r.jsxs)("div",{className:"form_service ",children:[(0,r.jsx)("div",{className:"form_header",children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{className:"1"===t?"active":"",children:"1 \u0428\u0430\u0433"}),(0,r.jsx)("li",{className:"2"===t&&"active",children:"2 \u0428\u0430\u0433"}),(0,r.jsx)("li",{className:"3"===t&&"active",children:"3 \u0428\u0430\u0433"})]})}),"1"===t&&(0,r.jsx)(c.Z,{setLoading:h}),"2"===t&&(0,r.jsx)(u.Z,{setLoading:h}),"3"===t&&(0,r.jsx)(a.Z,{setLoading:h})]})]})]})}))},9291:function(e,t,n){"use strict";n.r(t),n.d(t,{authenticatingUser:function(){return u},setCurrentUser:function(){return a},logoutUser:function(){return l},logOutAction:function(){return f},loginUser:function(){return p},fetchCurrentUser:function(){return d}});var r=n(9669),s=n.n(r),o=n(6808),i=n.n(o),c=n(1163),u=function(){return{type:"AUTHENTICATING_USER"}},a=function(e){return{type:"SET_CURRENT_USER",payload:e}},l=function(){return{type:"LOGOUT_USER"}},f=function(){return function(e){e(l()),i().remove("token"),c.default.push("/login")}},p=function(e,t){return function(n){n(u()),s().post("".concat("https://crediter.kz/api","/signIn"),e).then((function(e){console.log(e),e.data.success?(i().set("token",e.data.token,{expires:1e3}),s().post("".concat("https://crediter.kz/api","/getData"),{token:e.data.token}).then((function(e){e.data.success?(n(a(e.data)),c.default.push("/cabinet")):(n({type:"FAILED_LOGIN"}),i().remove("token"),c.default.push("/login"))})).catch((function(e){n({type:"FAILED_LOGIN"}),i().remove("token"),c.default.push("/login")}))):(t(e.data.message),n({type:"FAILED_LOGIN"}))}))}},d=function(){return function(e){e(u()),s().post("".concat("https://crediter.kz/api","/getData"),{token:i().get("token")}).then((function(t){t.data.success?e(a(t.data)):(e(l),i().remove("token"),c.default.push("/login"))})).catch((function(t){e(l),i().remove("token"),c.default.push("/")}))}}},8942:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cabinet/continue",function(){return n(771)}])}},function(e){e.O(0,[774,663,597,669,356,57,737,657,611,733,956,502,902,617],(function(){return t=8942,e(e.s=t);var t}));var t=e.O();_N_E=t}]);