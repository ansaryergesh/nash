(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{4714:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(5893),n=s(6156),i=s(2949),r=s(9669),l=s.n(r),o=s(7294),c=s(6627),d=s.n(c),p=s(1131),u=s(741),m=s(6808),f=s.n(m),h=(s(6433),s(5611)),j=s(7513),x=s(3899),g=s(1163),v=s(2089),N=s(1824),y=s(6737),b=s.n(y),O=function(){return(0,a.jsx)("div",{className:"load-wrapp",children:(0,a.jsx)("div",{className:"load-6",children:(0,a.jsxs)("div",{className:"letter-holder",children:[(0,a.jsx)("div",{className:"l-1 letter",children:"\u0417"}),(0,a.jsx)("div",{className:"l-2 letter",children:"\u0430"}),(0,a.jsx)("div",{className:"l-3 letter",children:"\u0433"}),(0,a.jsx)("div",{className:"l-4 letter",children:"\u0440"}),(0,a.jsx)("div",{className:"l-5 letter",children:"\u0443"}),(0,a.jsx)("div",{className:"l-6 letter",children:"\u0437"}),(0,a.jsx)("div",{className:"l-7 letter",children:"\u043a"}),(0,a.jsx)("div",{className:"l-8 letter",children:"\u0430"}),(0,a.jsx)("div",{className:"l-9 letter",children:"."}),(0,a.jsx)("div",{className:"l-10 letter",children:"."})]})})})};function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){(0,n.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var k=function(e){var t=e.field,s=(e.form,(0,i.Z)(e,["field","form"]));return(0,a.jsx)(d(),_(_({mask:"+7(999)-999-9999",maskChar:" ",className:"my-input"},t),s))},S=function(e){var t=e.field,s=(e.form,(0,i.Z)(e,["field","form"]));return(0,a.jsx)(d(),_(_({mask:"999999999999",maskChar:" ",className:"my-input"},t),s))},E=function(e){var t=e.setLoading,s=(0,h.e1)().addToast,i=(0,o.useState)({email:"",phone:"",fio:"",password:"",type:"\u0424\u0438\u0437 \u043b\u0438\u0446\u043e"}),r=i[0],c=i[1],d=(0,o.useState)({email:"",phone:"",fio:"",password:""}),m=(d[0],d[1],(0,o.useState)("")),v=m[0],y=m[1],w=(0,o.useState)(""),E=w[0],P=w[1],Z=(0,o.useState)({value:"",type:!1,loading:!1}),C=Z[0],D=Z[1],L=(0,o.useState)(!1),T=L[0],z=L[1];(0,o.useEffect)((function(){var e=E?E.replace(/ /g,""):"";12===e.length?(D(_(_({},C),{},{loading:!0})),l().get("https://api.money-men.kz/api/testKompra?bin=".concat(e),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){console.log(e),0===e.data.content.length?setTimeout((function(){D({value:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0411\u0418\u041d",type:!1,loading:!1})}),1e3):D({value:e.data.content[0].name,type:!0,loading:!1})})).catch((function(e){console.log(e),e.response&&console.log(e.response.status),D({value:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430",type:!1,loading:!1})}))):D({value:"",type:!1,loading:!1})}),[E]);var K=(0,o.useState)(""),X=K[0],A=K[1],M=function(e){(0,N.p)(e.iin)?(t(!0),c(e),l().get("".concat("https://crediter.kz/api","/identification"),{params:{fio:e.fio,phone:(0,u.Kp)(e.phone),email:e.email,password:e.password,type:e.type}}).then((function(e){t(!1),console.log(e),e.data.success&&z(!0),e.data.success||s(e.data.message,{appearance:"error",autoDismiss:!0})})).catch((function(e){t(!1),e.response&&s(e.response.status,{appearance:"error",autoDismiss:!0})}))):b()("Oops!","\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0443\u0441\u043b\u0443\u0433\u0430 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0438\u0446\u0430\u043c \u0434\u043e\u0441\u0442\u0438\u0433\u0448\u0438\u0435 18 \u043b\u0435\u0442.","info")};return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"form_register",children:[(0,a.jsx)(j.J9,{initialValues:{email:"",bin:"",position:"",phone:"",fio:"",password:"",type:"\u0424\u0438\u0437 \u043b\u0438\u0446\u043e",iin:""},onSubmit:function(e){M(e)},children:function(e){var t,s=e.errors,i=e.touched;return(0,a.jsxs)(j.l0,{children:[(0,a.jsx)(j.gN,{name:"bin",className:"form-control",placeholder:"\u0411\u0418\u041d",type:"tel",onChange:function(e){return function(e){var t=e.target.value;t&&t.replace(/ /g,""),P(e.target.value)}(e)},value:E,component:S}),!C.loading&&(0,a.jsx)("p",{className:C.type?"text-info":"text-danger",children:C.value}),C.loading&&(0,a.jsx)(O,{}),(0,a.jsx)(j.gN,{type:"text",name:"position",validate:x.C1,placeholder:"\u0417\u0430\u043d\u0438\u043c\u0430\u0435\u043c\u0430\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",autocomplete:"off"}),s.position&&i.position?(0,a.jsx)("p",{className:"text-danger",children:s.position}):(0,a.jsx)("p",{className:"text-danger"}),(0,a.jsx)(j.gN,{type:"text",name:"fio",validate:x.X4,placeholder:"\u0424\u0418\u041e",autocomplete:"off"}),s.fio&&i.fio?(0,a.jsx)("p",{className:"text-danger",children:s.fio}):(0,a.jsx)("p",{className:"text-danger"}),(0,a.jsx)(j.gN,{name:"phone",className:"form-control",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043d\u043e\u043c\u0435\u0440",type:"tel",validate:x.k8,component:k}),s.phone&&i.phone?(0,a.jsx)("p",{className:"text-danger",children:s.phone}):(0,a.jsx)("p",{className:"text-danger"}),(0,a.jsx)(j.gN,{name:"iin",className:"form-control",placeholder:"\u0418\u0418\u041d",type:"tel",validate:x.CD,component:S}),s.iin&&i.iin?(0,a.jsx)("p",{className:"text-danger",children:s.iin}):(0,a.jsx)("p",{className:"text-danger"}),(0,a.jsx)(j.gN,{type:"text",name:"email",validate:x.s$,placeholder:"Email",autocomplete:"off"}),s.email&&i.email?(0,a.jsx)("p",{className:"text-danger",children:s.email}):(0,a.jsx)("p",{className:"text-danger"}),(0,a.jsx)("input",(t={className:"singlebtn",type:"submit"},(0,n.Z)(t,"className","button"),(0,n.Z)(t,"value","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),t))]})}}),(0,a.jsx)(p.Z,{isModalOpen:T,closeModal:function(){z(!1)},code:X,setCode:A,onFirstStep:function(e){t(!0),l().get("".concat("https://crediter.kz/api","/stepOne"),{params:{fio:r.fio,phone:(0,u.Kp)(r.phone),email:r.email,password:r.password,type:r.type,code:e}}).then((function(e){t(!1),console.log(e),e.data.success&&(f().set("token",e.data.token),f().set("lead_id",e.data.id),f().set("step",2),g.default.push("/jurservice?step=2")),e.data.success||(y(e.data.message),s(finalErr,{appearance:"error",autoDismiss:!0}))}))},error:v,getIdentification:M})]})})},P=function(e){var t=e.setLoading;return(0,a.jsx)(h.VW,{children:(0,a.jsx)(E,{setLoading:t})})},Z=s(208),C=s(9956),D=s(9008),L=s(2465),T=function(){var e=(0,g.useRouter)(),t=e.query.step,s=(0,o.useState)(!1),n=s[0],i=s[1],r=(0,o.useState)(""),l=r[0],c=r[1];return(0,o.useEffect)((function(){c(f().get("step"))}),[f().get("step")]),(0,o.useEffect)((function(){f().get("step")||e.push("/jurservice"),"2"===f().get("step")&&e.push("/jurservice?step=2"),"3"===f().get("step")&&e.push("/jurservice?step=3")}),[]),(0,a.jsxs)("div",{className:"getservice",children:[n&&(0,a.jsx)(v.Z,{}),(0,a.jsx)(D.default,{children:(0,a.jsx)("title",{children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0443"})}),(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)(C.Z,{}),(0,a.jsx)("div",{className:"bg"})]}),(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"form--header",children:[(0,a.jsx)("h3",{children:"\u0423\u0441\u043b\u0443\u0433\u0438 \u044e\u0440 \u043b\u0438\u0446\u0430\u043c"}),(0,a.jsxs)("h2",{children:["\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c",(0,a.jsx)("br",{}),"\u0443\u0441\u043b\u0443\u0433\u0443:"]})]}),(0,a.jsxs)("div",{className:"form_service ",children:[(0,a.jsx)("div",{className:"form_header",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{className:void 0===l?"active":"",children:"1 \u0428\u0430\u0433"}),(0,a.jsx)("li",{className:"2"===l&&"2"===t&&"active",children:"2 \u0428\u0430\u0433"}),(0,a.jsx)("li",{className:"3"===l&&"3"===t&&"active",children:"3 \u0428\u0430\u0433"})]})}),void 0===f().get("step")&&(0,a.jsx)(P,{setLoading:i}),"2"===f().get("step")&&"2"===t&&(0,a.jsx)(Z.Z,{}),"3"===f().get("step")&&"3"===t&&(0,a.jsx)(L.Z,{})]})]})]})}},5804:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jurservice",function(){return s(4714)}])}},function(e){e.O(0,[774,178,614,703,589],(function(){return t=5804,e(e.s=t);var t}));var t=e.O();_N_E=t}]);