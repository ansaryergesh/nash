(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{1785:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var a=s(5893),n=s(9669),c=s.n(n),i=s(7294),d=s(246),r=s(1163),l=s(6737),u=s.n(l),o=s(5611),h=function(e){var t=e.actives,s=e.setLoading,n=e.setDeleted,i=e.deleted,d=(0,o.e1)().addToast;return(0,a.jsx)("div",{children:0===t.length?(0,a.jsx)("h2",{children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442\u0443 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u0430\u044f\u0432\u043e\u043a"}):(0,a.jsx)("div",{className:"request_list",children:t.map((function(e){return(0,a.jsxs)("div",{className:"\u041e\u0442\u043a\u0430\u0437 \u043e\u0442 \u0437\u0430\u043a\u0430\u0437\u0430"===e.title?"d-none":"request_card",children:[(0,a.jsx)("p",{className:"status ",children:e.title}),(0,a.jsxs)("div",{className:"card_info",children:[(0,a.jsxs)("span",{className:"sphere",children:["\u0421\u0444\u0435\u0440\u0430: ",e.sphere]}),(0,a.jsxs)("span",{className:"description",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",e.description]}),(0,a.jsx)("div",{"data-id":e.dealID,onClick:function(e){return function(e){var t=e.currentTarget.dataset.id;u()("\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f",{text:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u043e\u0442 \u044d\u0442\u043e\u0439 \u0443\u0441\u043b\u0443\u0433\u0438?",buttons:{catch:{text:"\u0414\u0430, \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f",value:"catch"},cancel:"\u041d\u0435\u0442"}}).then((function(e){switch(e){case"catch":s(!0),c().get("".concat("https://crediter.kz/api","/stageDeal?ID=").concat(t)).then((function(e){s(!1),e.data.success?(n(!i),d("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043a\u0430\u0437\u0430\u043b\u0438\u0441\u044c",{appearance:"success",autoDismiss:!0})):d("\u0412\u0430\u0448\u0430 \u0437\u0430\u044f\u0432\u043a\u0430 \u0443\u0436\u0435 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u044e\u0440\u0438\u0441\u0442\u0430\u043c\u0438",{appearance:"error",autoDismiss:!0})}))}}))}(e)},className:"cancel_btn",children:(0,a.jsx)("span",{children:"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f"})},e.dealID)]})]})}))})})},p=function(e){var t=e.notFinished;return(0,a.jsx)("div",{className:"request_list",children:t.map((function(e){return(0,a.jsxs)("div",{"data-id":e.id,"data-step":e.step,className:"request_card",children:[(0,a.jsx)("p",{className:"status status_info",children:e.lead}),(0,a.jsxs)("span",{className:"capitalize",children:[(0,a.jsx)("b",{children:"\u0424\u0418\u041e:"})," ",e.fio]}),null!==e.sphere?(0,a.jsxs)("span",{children:[(0,a.jsx)("b",{children:"\u0421\u0444\u0435\u0440\u0430: "}),e.sphere]}):(0,a.jsxs)("span",{children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043d\u043e\u043c\u0435\u0440: +",e.phone]}),null!==e.amount&&(0,a.jsxs)("span",{children:[(0,a.jsx)("b",{children:"\u0421\u0443\u043c\u043c\u0430 \u0438\u0441\u043a\u0430:"})," ",e.amount," \u0442\u0433"]}),(0,a.jsx)("span",{"data-id":e.id,"data-step":e.step,"data-type":e.client_type,"data-amount":e.amount||null,className:"detailedbtn",onClick:function(e){return function(e){var t=e.target.dataset.id,s=parseInt(e.target.dataset.step),a=e.target.dataset.amount,n=e.target.dataset.type;r.default.push({pathname:"/cabinet/continue",query:{step:s+1,id:t,type:n,amount:a}})}(e)},children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0430\u043d\u043a\u0435\u0442\u0443 \u2b9e"})]})}))})},x=function(e){var t=e.setActive,s=e.isActive,n=e.actives,c=e.notFinished,i=e.setLoading,d=e.deleted,r=e.setDeleted;return(0,a.jsxs)("div",{className:"container cabinet__requests",children:[(0,a.jsx)("p",{className:"header",children:"\u041c\u043e\u0438 \u0437\u0430\u044f\u0432\u043a\u0438"}),(0,a.jsxs)("div",{className:"request_block",children:[(0,a.jsxs)("div",{className:"request_option",children:[(0,a.jsx)("span",{className:s&&"active",onClick:function(){return t(!0)},children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,a.jsx)("span",{className:!s&&"active",onClick:function(){return t(!1)},children:"\u041d\u0435\u0434\u043e\u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"})]}),s?(0,a.jsx)(o.VW,{children:(0,a.jsx)(h,{actives:n,setLoading:i,deleted:d,setDeleted:r})}):(0,a.jsx)(p,{notFinished:c})]})]})},f=s(9956),j=s(6808),v=s.n(j),m=s(741),N=s(2089),_=(0,s(2804).Z)((function(){var e=(0,i.useState)(!0),t=e[0],s=e[1],n=(0,i.useState)([]),r=(n[0],n[1]),l=(0,i.useState)([]),u=l[0],o=l[1],h=(0,i.useState)([]),p=h[0],j=h[1],_=(0,i.useState)(!1),g=_[0],b=_[1],k=(0,i.useState)(!1),D=k[0],q=k[1],w=function(){console.log("getuserdeal"),c().post("".concat("https://crediter.kz/api","/getUserDataDeal"),{token:v().get("token")}).then((function(e){q(!1),r(e.data),o((0,m.x3)(e.data,{type:"deal"})),j((0,m.x3)(e.data,{type:"lead"}))})).catch((function(e){q(!1)}))};return(0,i.useEffect)((function(){q(!0),w()}),[g]),(0,i.useEffect)((function(){w()}),[]),(0,a.jsxs)("div",{className:"cabinet",children:[(0,a.jsx)(f.Z,{}),D&&(0,a.jsx)(N.Z,{}),(0,a.jsx)(x,{isActive:t,setActive:s,actives:u,notFinished:p,setLoading:q,setDeleted:b,deleted:g}),(0,a.jsx)(d.Z,{})]})}))},4065:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cabinet/requests",function(){return s(1785)}])}},function(e){e.O(0,[774,663,597,669,356,57,737,611,365],(function(){return t=4065,e(e.s=t);var t}));var t=e.O();_N_E=t}]);