(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[912],{3529:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return L}});var a=t(5893),n=t(6156),r=t(2949),i=t(9669),o=t.n(i),c=t(7294),l=t(6627),p=t.n(l),d=t(1131),u=t(741),f=t(6808),m=t.n(f),h=(t(6433),t(5611)),x=t(7513),j=t(3899),g=t(1163),v=t(2089),N=t(1824),y=t(6737),w=t.n(y);function b(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,a)}return t}function O(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?b(Object(t),!0).forEach((function(s){(0,n.Z)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var _=function(e){var s=e.field,t=(e.form,(0,r.Z)(e,["field","form"]));return(0,a.jsx)(p(),O(O({mask:"+7(999)-999-9999",maskChar:" ",className:"my-input"},s),t))},k=function(e){var s=e.field,t=(e.form,(0,r.Z)(e,["field","form"]));return(0,a.jsx)(p(),O(O({mask:"999999999999",maskChar:" ",className:"my-input"},s),t))},E=function(e){var s=e.setLoading,t=(0,h.e1)().addToast,r=(0,c.useState)({email:"",phone:"",fio:"",password:"",type:"\u0424\u0438\u0437 \u043b\u0438\u0446\u043e"}),i=r[0],l=r[1],p=(0,c.useState)({email:"",phone:"",fio:"",password:""}),f=(p[0],p[1],(0,c.useState)("")),v=f[0],y=f[1],b=(0,c.useState)(!1),O=b[0],E=b[1],S=(0,c.useState)(""),P=S[0],Z=S[1],D=function(e){(0,N.p)(e.iin)?(s(!0),l(e),o().get("".concat("https://crediter.kz/api","/identification"),{params:{fio:e.fio,phone:(0,u.Kp)(e.phone),email:e.email,password:e.password,type:e.type}}).then((function(e){s(!1),console.log(e),e.data.success&&E(!0),e.data.success||t(e.data.message,{appearance:"error",autoDismiss:!0})})).catch((function(e){s(!1),e.response&&t(e.response.status,{appearance:"error",autoDismiss:!0})}))):w()("Oops!","\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0443\u0441\u043b\u0443\u0433\u0430 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0438\u0446\u0430\u043c \u0434\u043e\u0441\u0442\u0438\u0433\u0448\u0438\u0435 18 \u043b\u0435\u0442.","info")};return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"form_register",children:[(0,a.jsx)(x.J9,{initialValues:{email:"",phone:"",fio:"",password:"",type:"\u0424\u0438\u0437 \u043b\u0438\u0446\u043e",iin:""},onSubmit:function(e){D(e)},children:function(e){var s,t=e.errors,r=e.touched;return(0,a.jsxs)(x.l0,{children:[(0,a.jsx)(x.gN,{type:"text",name:"fio",validate:j.X4,placeholder:"\u0424\u0418\u041e",autocomplete:"off"}),t.fio&&r.fio?(0,a.jsx)("p",{className:"text-danger",children:t.fio}):(0,a.jsx)("p",{className:"text-danger"}),(0,a.jsx)(x.gN,{name:"phone",className:"form-control",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043d\u043e\u043c\u0435\u0440",type:"tel",validate:j.k8,component:_}),t.phone&&r.phone?(0,a.jsx)("p",{className:"text-danger",children:t.phone}):(0,a.jsx)("p",{className:"text-danger"}),(0,a.jsx)(x.gN,{name:"iin",className:"form-control",placeholder:"\u0418\u0418\u041d",type:"tel",validate:j.CD,component:k}),t.iin&&r.iin?(0,a.jsx)("p",{className:"text-danger",children:t.iin}):(0,a.jsx)("p",{className:"text-danger"}),(0,a.jsx)(x.gN,{type:"text",name:"email",validate:j.s$,placeholder:"Email",autocomplete:"off"}),t.email&&r.email?(0,a.jsx)("p",{className:"text-danger",children:t.email}):(0,a.jsx)("p",{className:"text-danger"}),(0,a.jsx)(x.gN,{type:"password",name:"password",validate:j.l1,placeholder:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",autocomplete:"off"}),t.password&&r.password?(0,a.jsx)("p",{className:"text-danger",children:t.password}):(0,a.jsx)("p",{className:"text-danger"}),(0,a.jsx)("input",(s={className:"singlebtn",type:"submit"},(0,n.Z)(s,"className","button"),(0,n.Z)(s,"value","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),s))]})}}),(0,a.jsx)(d.Z,{isModalOpen:O,closeModal:function(){E(!1)},code:P,setCode:Z,onFirstStep:function(e){s(!0),o().get("".concat("https://crediter.kz/api","/stepOne"),{params:{fio:i.fio,phone:(0,u.Kp)(i.phone),email:i.email,password:i.password,type:i.type,code:e}}).then((function(e){s(!1),console.log(e),e.data.success&&(m().set("token",e.data.token),m().set("lead_id",e.data.id),m().set("step",2),g.default.push("/getservice?step=2")),e.data.success||(y(e.data.message),t(finalErr,{appearance:"error",autoDismiss:!0}))}))},error:v,getIdentification:D})," "]})})},S=function(e){var s=e.setLoading;return(0,a.jsx)(h.VW,{children:(0,a.jsx)(E,{setLoading:s})})},P=t(208),Z=t(9956),D=t(9008),C=t(2465),L=function(){var e=(0,g.useRouter)(),s=e.query.step,t=(0,c.useState)(!1),n=t[0],r=t[1],i=(0,c.useState)(""),o=i[0],l=i[1];return(0,c.useEffect)((function(){l(m().get("step"))}),[m().get("step")]),(0,c.useEffect)((function(){m().get("step")||e.push("/getservice"),"2"===m().get("step")&&e.push("/getservice?step=2"),"3"===m().get("step")&&e.push("/getservice?step=3")}),[]),(0,a.jsxs)("div",{className:"getservice",children:[n&&(0,a.jsx)(v.Z,{}),(0,a.jsx)(D.default,{children:(0,a.jsx)("title",{children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0443"})}),(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)(Z.Z,{}),(0,a.jsx)("div",{className:"bg"})]}),(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"form--header",children:[(0,a.jsx)("h3",{children:"\u0423\u0441\u043b\u0443\u0433\u0438 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043b\u0438\u0446\u0430\u043c"}),(0,a.jsxs)("h2",{children:["\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c",(0,a.jsx)("br",{}),"\u0443\u0441\u043b\u0443\u0433\u0443:"]})]}),(0,a.jsxs)("div",{className:"form_service ",children:[(0,a.jsx)("div",{className:"form_header",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{className:void 0===o?"active":"",children:"1 \u0428\u0430\u0433"}),(0,a.jsx)("li",{className:"2"===o&&"2"===s&&"active",children:"2 \u0428\u0430\u0433"}),(0,a.jsx)("li",{className:"3"===o&&"3"===s&&"active",children:"3 \u0428\u0430\u0433"})]})}),void 0===m().get("step")&&(0,a.jsx)(S,{setLoading:r}),"2"===m().get("step")&&"2"===s&&(0,a.jsx)(P.Z,{}),"3"===m().get("step")&&"3"===s&&(0,a.jsx)(C.Z,{})]})]})]})}},3093:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/getservice",function(){return t(3529)}])}},function(e){e.O(0,[774,178,614,703,589],(function(){return s=3093,e(e.s=s);var s}));var s=e.O();_N_E=s}]);